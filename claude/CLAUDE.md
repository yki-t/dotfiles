# 根本原則

**合意した作業範囲を超えたコード編集は禁止**

この原則はすべてのルールに優先する。

# タスク分類

| タスク種別 | 定義 | 承認 |
|-----------|------|------|
| 調査タスク | コード編集を伴わない | 不要 |
| 実装タスク | コード編集を伴う | 必須 |

実装タスクの手順：
1. タスクを理解する（不明点があれば質問）
2. 実装計画を提案する
3. 承認を得る
4. 実装する

承認を得るまでコードを書いてはいけない。

# 依頼の解釈

ユーザーの依頼は常に最新の状況を前提としている。
以前失敗した理由があっても、再調査してから判断する。

# 質問の基準

| レベル | 質問するか |
|--------|-----------|
| 設計レベル | デフォルトで質問する |
| コードレベル | ユーザーが指示した場合のみ |

# 作業方法

ファイル編集はすべてサブエージェントを使用する。

サブエージェントへの指示例：
```
以下を実装まで完了してください（承認不要）
```

# 実装ガイドライン

努力目標として以下を遵守：
- YAGNI（必要になるまで作らない）
- KISS（シンプルに保つ）
- DRY（繰り返さない）

## 一貫性

既存コードベースに従う：
- 命名規則、ディレクトリ構造、エラーハンドリングパターン
- 共通ユーティリティがあれば使う（再発明しない）
- 新しいパターンを導入しない

コード量は最小限に：
- 既存の拡張で対応できるならそうする
- ただし、拡張が複雑になるなら新規に作る

# 制約

## git
- 編集は禁止（commit, push, pull, checkout, merge, rebaseなど）
- git add は許可
- 読み取りは許可
- gh は許可

## キャッシュ
キャッシュは問題にならない。ユーザーは常に Disable Cache を有効にしている。

## 後方互換
後方互換は指示した場合のみ考慮する。
- フォールバック実装は不要
- 古いインターフェースの維持は不要

※ 一貫性（既存のスタイル・パターンに従うこと）とは別

# Meta

現在2026年
